(this["webpackJsonpword-wizard"]=this["webpackJsonpword-wizard"]||[]).push([[0],{102:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r.n(n),a=r(46),i=r.n(a),s=(r(56),r(57),r(9)),o=r(11),l=r(34),u=(r(58),r(47)),d=function(e,t){var r=e.indexOf(t);return r>=0&&(e.splice(r,1),!0)},j=(r(61),r(1)),h=function(e){var t=e.letters,r=e.highlighted,n=e.onClick,c=Object(s.a)(r);return Object(j.jsx)("div",{className:"Lettergrid",children:t.map((function(e,t){var r="Lettergrid-letter btn";return d(c,e)&&(r+=" Lettergrid-letter-highlighted"),Object(j.jsx)("span",{className:r,onClick:function(t){n&&n(e)},children:e},t)}))})},b=(r(63),function(e){var t=e.spellcheck,r=e.isValidAddition,n=e.currentWord,c=e.onChange,a=e.onReturn,i=e.letters;return Object(j.jsxs)("div",{className:"WordSmith",children:[Object(j.jsx)("input",{className:"WordSmith_input ".concat(t(n)&&"WordSmith_input_valid"),value:n,placeholder:"type here",onChange:function(e){return c(e.currentTarget.value.toLowerCase())},onKeyDown:function(e){return"Enter"===e.key?(a(e.currentTarget.value)&&(e.currentTarget.value=""),!0):"Backspace"===e.key||(e.key>="a"&&e.key<="z"||e.key>="A"&&e.key<="Z"?!!r(i,n,e.key.toLowerCase())||(e.preventDefault(),!1):void 0)},tabIndex:100}),Object(j.jsx)("button",{className:"btn WordSmith_enter",disabled:!t(n),onClick:function(e){return a(n)},children:"\u23ce"}),Object(j.jsx)("button",{className:"btn WordSmith_backspace",onClick:function(e){return c(n.slice(0,-1))},children:"\u232b"})]})}),f=(r(64),r(4)),O=r(29),g=Math.max.apply(Math,Object(s.a)(O.map((function(e){return Number(e[1])})))),p=function(e,t,r){var n="".concat(t).split("");return e.filter((function(e){return!d(n,e)})).includes(r)},v=function(e){return e.length<=2?0:e.length},m=function(e){var t,r=[],n=Object(f.a)(O);try{for(n.s();!(t=n.n()).done;)for(var c=Object(o.a)(t.value,2),a=c[0],i=c[1],l=Number(i)/g,u=Math.ceil(4*l),d=0;d<u;d++)r.push(String(a))}catch(j){n.e(j)}finally{n.f()}return function(e){for(var t=Object(s.a)(e),r=t.length-1;r>0;r--){var n=Math.floor(Math.random()*(r+1)),c=[t[n],t[r]];t[r]=c[0],t[n]=c[1]}return t}(r).slice(0,e)},x=function(e){var t=e.words;return Object(j.jsx)("div",{className:"WordTreasure",children:Object(j.jsx)("ol",{children:t.sort((function(e,t){return v(t)-v(e)})).map((function(e){return Object(j.jsxs)("li",{children:[Object(j.jsxs)("span",{className:"WordTreasure_word",children:[e," "]}),Object(j.jsxs)("span",{className:"WordTreasure_word_score",children:["(",v(e),")"]})]},e)}))})})},y=(r(65),function(e){var t=e.score,r=e.target;return r?Object(j.jsxs)("div",{className:"Score",children:["Score: ",t," / ",r]}):Object(j.jsxs)("div",{className:"Score",children:["Score: ",t]})}),w=r(2),k=r(18),S=r(13),N=r.n(S),C=r(30),W=r.n(C),_=r(31),A=function(e){var t=W.a.encode(e);return _.a.fromUint8Array(t,!0)};function T(){var e=Object(w.e)().search,t=N.a.parse(e),r=Object(w.d)(),c=function(e){var n=Object(l.a)(Object(l.a)({},t),e);N.a.stringify(t)!==N.a.stringify(n)&&(r.push({search:"?"+N.a.stringify(n)}),console.log("new query params > ",n))},a=t.letters&&String(t.letters).split("")||[],i=Object(n.useState)(""),d=Object(o.a)(i,2),f=d[0],O=d[1],g=Object(n.useState)(a),v=Object(o.a)(g,2),S=v[0],C=v[1],T=t.treasure&&function(e){var t=_.a.toUint8Array(e);return W.a.decode(t)}(String(t.treasure))||[],L=Object(n.useState)(T),z=Object(o.a)(L,2),M=z[0],B=z[1],E=S.length;Object(n.useEffect)((function(){0===E&&function(e){c({letters:e.join("")}),C(e)}(m(20))}),[E]);var F=Object(n.useState)(),D=Object(o.a)(F,2),I=D[0],J=D[1];Object(n.useEffect)((function(){console.log("loading spellchecker"),new u.a("en_GB",void 0,void 0,{flags:{},dictionaryPath:"/word-wizard/dictionaries"}).ready.then((function(e){console.log("dictionary loaded"),J(e)})).catch(console.log)}),[]);var P=M.reduce((function(e,t){return e+t.length}),0);return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("header",{className:"App-header",children:Object(j.jsx)("h1",{children:"Word Wizard"})}),Object(j.jsx)("p",{className:"App_description",children:"Conjure as many british english words as possible from this set of letters. One and two letter words are worthless."}),Object(j.jsxs)("div",{className:"inputs",children:[Object(j.jsx)(h,{onClick:function(e){p(S,f,e)&&O(f+e)},letters:S,highlighted:f.split("")}),Object(j.jsx)(b,{isValidAddition:p,spellcheck:function(e){return I&&I.check(e)||!1},currentWord:f,letters:S,onChange:function(e){O(e)},onReturn:function(e){var t;if(I&&I.check(e)){var r=new Set([].concat(Object(s.a)(M),[e]));return t=Array.from(r).sort(),c({treasure:A(t)}),B(t),O(""),!0}return!1}})]}),Object(j.jsxs)("div",{className:"outputs",children:[Object(j.jsx)(y,{score:P,target:Number(t.targetScore||void 0)}),Object(j.jsx)(x,{words:M})]}),Object(j.jsx)(k.b,{to:".",children:"New Game"}),Object(j.jsx)(k.b,{target:"_blank",to:{pathname:".",search:N.a.stringify({letters:S.join(""),targetScore:P})},children:"Challenge Url"})]})}var L=function(){return Object(j.jsx)(k.a,{children:Object(j.jsx)(T,{})})},z=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,103)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;r(e),n(e),c(e),a(e),i(e)}))};i.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(L,{})}),document.getElementById("root")),z()},29:function(e){e.exports=JSON.parse('[["e",12.702],["t",9.056],["a",8.167],["o",7.507],["i",6.966],["n",6.749],["s",6.327],["h",6.094],["r",5.987],["d",4.253],["l",4.025],["c",2.782],["u",2.758],["m",2.406],["w",2.36],["f",2.228],["g",2.015],["y",1.974],["p",1.929],["b",1.492],["v",0.978],["k",0.772],["j",0.153],["x",0.15],["q",0.095],["z",0.074]]')},56:function(e,t,r){},57:function(e,t,r){},58:function(e,t,r){},61:function(e,t,r){},63:function(e,t,r){},64:function(e,t,r){},65:function(e,t,r){}},[[102,1,2]]]);
//# sourceMappingURL=main.0c6e1b6d.chunk.js.map