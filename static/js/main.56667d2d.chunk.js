(this["webpackJsonpword-wizard"]=this["webpackJsonpword-wizard"]||[]).push([[0],{102:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(46),s=n.n(a),i=(n(56),n(57),n(10)),o=n(8),u=n(34),l=(n(58),n(47)),d=function(e,t){var n=e.indexOf(t);return n>=0&&(e.splice(n,1),!0)},j=(n(61),n(1)),h=function(e){var t=e.letters,n=e.highlighted,r=e.onClick,c=Object(i.a)(n);return Object(j.jsx)("div",{className:"Lettergrid",children:t.map((function(e,t){var n="Lettergrid-letter btn";return d(c,e)&&(n+=" Lettergrid-letter-highlighted"),Object(j.jsx)("span",{className:n,onClick:function(t){r&&r(e)},children:e},t)}))})},f=(n(63),function(e){var t=e.spellcheck,n=e.isValidAddition,r=e.currentWord,c=e.onChange,a=e.onReturn,s=e.letters;return Object(j.jsxs)("div",{className:"WordSmith",children:[Object(j.jsx)("input",{autoComplete:"off",spellCheck:"false",className:"WordSmith_input ".concat(t(r)&&"WordSmith_input_valid"),value:r,placeholder:"type here",onChange:function(e){return c(e.currentTarget.value.toLowerCase())},onKeyDown:function(e){return"Enter"===e.key?(a(e.currentTarget.value)&&(e.currentTarget.value=""),!0):"Backspace"===e.key||(e.key>="a"&&e.key<="z"||e.key>="A"&&e.key<="Z"?!!n(s,r,e.key.toLowerCase())||(e.preventDefault(),!1):void 0)},tabIndex:100}),Object(j.jsx)("button",{className:"btn WordSmith_enter",disabled:!t(r),onClick:function(e){return a(r)},children:"\u23ce"}),Object(j.jsx)("button",{className:"btn WordSmith_backspace",onClick:function(e){return c(r.slice(0,-1))},children:"\u232b"})]})}),b=(n(64),n(4)),O=n(29),p=Math.max.apply(Math,Object(i.a)(O.map((function(e){return Number(e[1])})))),g=function(e,t,n){var r="".concat(t).split("");return e.filter((function(e){return!d(r,e)})).includes(n)},m=function(e){return e.length<=2?0:e.length*e.split("").reduce((function(e,t){switch(t){case"a":case"e":case"i":case"l":case"n":case"o":case"r":case"s":case"t":case"u":return 1+e;case"d":case"g":return 2+e;case"b":case"c":case"m":case"p":return 3+e;case"f":case"h":case"v":case"w":case"y":return 4+e;case"k":return 5+e;case"j":case"x":return 7+e;case"q":case"z":return 8+e;default:return e}}),0)},v=function(e){var t,n=[],r=Object(b.a)(O);try{for(r.s();!(t=r.n()).done;)for(var c=Object(o.a)(t.value,2),a=c[0],s=c[1],u=Number(s)/p,l=Math.ceil(4*u),d=0;d<l;d++)n.push(String(a))}catch(j){r.e(j)}finally{r.f()}return function(e){for(var t=Object(i.a)(e),n=t.length-1;n>0;n--){var r=Math.floor(Math.random()*(n+1)),c=[t[r],t[n]];t[n]=c[0],t[r]=c[1]}return t}(n).slice(0,e)},x=function(e,t){return t===e.length-1},w=function(e,t,n){var r=["WordTreasure_word_item"];return x(e,t)&&r.push("WordTreasure_word--newest"),x(e,t)&&0===n&&r.push("WordTreasure_word--new-highscore"),r.join(" ")},y=function(e){var t=e.words,n=e.index,c=e.sortedIndex,a=e.word,s=Object(r.useCallback)((function(e){e&&e.classList.contains("WordTreasure_word--newest")&&e.scrollIntoView({behavior:"smooth"})}),[]);return Object(j.jsxs)("li",{ref:s,className:w(t,n,c),children:[Object(j.jsxs)("span",{className:"WordTreasure_word",children:[a," "]}),Object(j.jsx)("span",{className:"WordTreasure_word_score",children:m(a)})]},a)},k=function(e){var t=e.words,n=t.map((function(e,t){return[e,t]}));return Object(j.jsx)("div",{className:"WordTreasure",children:Object(j.jsx)("ol",{children:n.sort((function(e,t){var n=Object(o.a)(e,2),r=n[0],c=(n[1],Object(o.a)(t,2)),a=c[0];c[1];return m(a)-m(r)})).map((function(e,n){var r=Object(o.a)(e,2),c=r[0],a=r[1];return Object(j.jsx)(y,{words:t,index:a,sortedIndex:n,word:c})}))})})},N=(n(65),function(e){var t=e.score,n=e.target;return n?Object(j.jsxs)("div",{className:"Score",children:["Score: ",t," / ",n]}):Object(j.jsxs)("div",{className:"Score",children:["Score: ",t]})}),S=n(2),C=n(18),W=n(13),_=n.n(W),T=n(30),L=n.n(T),A=n(31),z=function(e){var t=L.a.encode(e);return A.a.fromUint8Array(t,!0)};function B(){var e=Object(S.e)().search,t=_.a.parse(e),n=Object(S.d)(),c=function(e){var r=Object(u.a)(Object(u.a)({},t),e);_.a.stringify(t)!==_.a.stringify(r)&&(n.push({search:"?"+_.a.stringify(r)}),console.log("new query params > ",r))},a=t.letters&&String(t.letters).split("")||[],s=Object(r.useState)(0),d=Object(o.a)(s,2),b=d[0],O=d[1],p=Object(r.useState)(""),x=Object(o.a)(p,2),w=x[0],y=x[1],W=Object(r.useState)(a),T=Object(o.a)(W,2),B=T[0],I=T[1],M=function(e){c({letters:e.join("")}),I(e)},E=t.treasure&&function(e){var t=A.a.toUint8Array(e);return L.a.decode(t)}(String(t.treasure))||[],F=Object(r.useState)(E),R=Object(o.a)(F,2),q=R[0],D=R[1],J=function(e){c({treasure:z(e)}),D(e)},P=B.length;Object(r.useEffect)((function(){0===P&&M(v(20))}),[P]),Object(r.useEffect)((function(){O(q.reduce((function(e,t){return e+m(t)}),0))}),[q]);var V=Object(r.useState)(),G=Object(o.a)(V,2),U=G[0],K=G[1];return Object(r.useEffect)((function(){console.log("loading spellchecker"),new l.a("en_GB",void 0,void 0,{flags:{},dictionaryPath:"/word-wizard/dictionaries"}).ready.then((function(e){console.log("dictionary loaded"),K(e)})).catch(console.log)}),[]),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("header",{className:"App-header",children:Object(j.jsx)("h1",{children:"Word Wizard"})}),Object(j.jsx)("p",{className:"App_description",children:"Conjure as many british english words as possible from this set of letters. One and two letter words are worthless."}),Object(j.jsxs)("div",{className:"inputs",children:[Object(j.jsx)(h,{onClick:function(e){g(B,w,e)&&y(w+e)},letters:B,highlighted:w.split("")}),Object(j.jsx)(f,{isValidAddition:g,spellcheck:function(e){return U&&U.check(e)||!1},currentWord:w,letters:B,onChange:function(e){y(e)},onReturn:function(e){return!(!(U&&U.check(e))||-1!==q.indexOf(e))&&(J([].concat(Object(i.a)(q),[e])),y(""),!0)}}),Object(j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"2rem"},children:[Object(j.jsx)(C.b,{style:{paddingLeft:"1.5em",paddingRight:"1.5em",marginBottom:"1rem"},className:"btn",to:".",onClick:function(e){J([]),y(""),M([])},children:"New Game"}),Object(j.jsx)(C.b,{className:"btn",style:{paddingLeft:"1.5em",paddingRight:"1.5em",marginBottom:"1rem"},target:"_blank",to:{pathname:".",search:_.a.stringify({letters:B.join(""),targetScore:b})},children:"Challenge"})]})]}),Object(j.jsxs)("div",{className:"outputs",children:[Object(j.jsx)(N,{score:b,target:Number(t.targetScore||void 0)}),Object(j.jsx)(k,{words:q})]})]})}var I=function(){return Object(j.jsx)(C.a,{children:Object(j.jsx)(B,{})})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,103)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(I,{})}),document.getElementById("root")),M()},29:function(e){e.exports=JSON.parse('[["e",12.702],["t",9.056],["a",8.167],["o",7.507],["i",6.966],["n",6.749],["s",6.327],["h",6.094],["r",5.987],["d",4.253],["l",4.025],["c",2.782],["u",2.758],["m",2.406],["w",2.36],["f",2.228],["g",2.015],["y",1.974],["p",1.929],["b",1.492],["v",0.978],["k",0.772],["j",0.153],["x",0.15],["q",0.095],["z",0.074]]')},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},61:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){}},[[102,1,2]]]);
//# sourceMappingURL=main.56667d2d.chunk.js.map